Metadata-Version: 2.4
Name: reposentinel
Version: 1.0.0
Summary: Production-grade repo intelligence engine that generates enforceable GitHub Copilot guardrails
Author: RepoSentinel Contributors
License-Expression: MIT
Project-URL: Homepage, https://github.com/yourusername/copilot-instruction-agent
Project-URL: Documentation, https://github.com/yourusername/copilot-instruction-agent/blob/main/docs/README.md
Project-URL: Repository, https://github.com/yourusername/copilot-instruction-agent
Project-URL: Issues, https://github.com/yourusername/copilot-instruction-agent/issues
Project-URL: Changelog, https://github.com/yourusername/copilot-instruction-agent/blob/main/CHANGELOG.md
Keywords: github-copilot,code-analysis,static-analysis,best-practices,guardrails,code-quality,security,architecture,dotnet,python,nodejs,code-review,ai-assistant,developer-tools
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Software Development :: Quality Assurance
Classifier: Topic :: Software Development :: Testing
Classifier: Topic :: Security
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.11
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: openai>=1.0.0
Requires-Dist: pyyaml>=6.0
Requires-Dist: tree-sitter>=0.20.0
Requires-Dist: rich>=13.0.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Requires-Dist: mypy>=1.0.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"
Dynamic: license-file

# RepoSentinel ğŸ›¡ï¸

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)

**Production-grade repo intelligence engine that generates enforceable GitHub Copilot guardrails.**

RepoSentinel analyzes your codebase to detect architectural patterns, security issues, and code quality problems. It then generates GitHub Copilot instruction files that enforce best practices and prevent common mistakesâ€”all powered by industry-standard best practices and AI.

## Overview

RepoSentinel analyzes your codebase to detect architectural patterns, security issues, and code quality problems. It then generates GitHub Copilot instruction files that enforce best practices and prevent common mistakes.

## Features

- **Multi-language Support**: Detects and analyzes .NET, Node.js, Python, Java, Go, and Rust projects
- **Best Practices Integration**: Language-specific best practices database that guides code evaluation
- **Intelligent Analysis**: Uses pattern matching and code analysis to find architectural violations
- **Best Practices Checking**: Validates code against industry best practices for each language
- **Risk Scoring**: Calculates risk scores by category to prioritize issues
- **LLM-Powered Instructions**: Generates comprehensive Copilot instruction files using OpenAI, informed by best practices
- **Rich CLI**: Beautiful terminal output with progress indicators and summaries
- **Configurable**: YAML-based configuration for customization
- **Extensible**: Plugin-based analyzer system for adding new checks and best practices

## ğŸš€ Quick Start

```bash
# Install RepoSentinel
pip install reposentinel

# Or from source
git clone https://github.com/yourusername/copilot-instruction-agent.git
cd copilot-instruction-agent
pip install -e .

# Set your OpenAI API key (optional, for guardrail generation)
export OPENAI_API_KEY="your-api-key-here"

# Analyze your repository
reposentinel /path/to/your/repo
```

**That's it!** RepoSentinel will:
1. Detect your technology stack
2. Analyze code for violations
3. Check against best practices
4. Generate guardrails and reports

## ğŸ“¦ Installation

### From PyPI (Coming Soon)

```bash
pip install reposentinel
```

### From Source

```bash
# Clone the repository
git clone https://github.com/yourusername/copilot-instruction-agent.git
cd copilot-instruction-agent

# Install dependencies
pip install -e .

# Or with development dependencies
pip install -e ".[dev]"
```

## Configuration

1. Copy the example configuration:
   ```bash
   cp reposentinel.yaml.example reposentinel.yaml
   ```

2. Set your OpenAI API key:
   ```bash
   export OPENAI_API_KEY="your-api-key-here"
   ```

3. Customize `reposentinel.yaml` as needed (optional)

## Usage

### Basic Usage

```bash
# Analyze current directory
python -m cmd.reposentinel.main

# Analyze specific repository
python -m cmd.reposentinel.main /path/to/repo
```

### Output Files

RepoSentinel generates two files:

1. **`.github/copilot-instructions.md`** - GitHub Copilot instruction file with enforceable rules
2. **`analysis-report.md`** - Detailed analysis report with findings and risk scores

## Architecture

```
copilot-instruction-agent/
â”œâ”€â”€ cmd/reposentinel/     # Main entry point
â”œâ”€â”€ core/                 # Core functionality
â”‚   â”œâ”€â”€ analyzers/       # Analyzer framework
â”‚   â”œâ”€â”€ best_practices/  # Best practices system
â”‚   â”‚   â”œâ”€â”€ loader.py    # Loads practices for languages
â”‚   â”‚   â”œâ”€â”€ checker.py   # Validates code against practices
â”‚   â”‚   â””â”€â”€ practices/   # Language-specific practice files
â”‚   â”œâ”€â”€ config.py        # Configuration management
â”‚   â”œâ”€â”€ logger.py        # Logging setup
â”‚   â”œâ”€â”€ profiler/        # Stack detection
â”‚   â”œâ”€â”€ report/          # Report generation
â”‚   â”œâ”€â”€ risk/            # Risk scoring
â”‚   â””â”€â”€ rules/           # Rules builder
â”œâ”€â”€ engines/             # Language-specific analyzers
â”‚   â””â”€â”€ dotnet/         # .NET analyzers
â””â”€â”€ llm/                # LLM client
```

## How It Works

RepoSentinel uses a three-layer approach to generate guardrails:

1. **Code Analysis**: Analyzes your codebase for architectural patterns and violations
2. **Best Practices Evaluation**: Checks code against language-specific best practices
3. **Guardrail Generation**: Combines findings and best practices to create enforceable rules

### Best Practices System

RepoSentinel includes a comprehensive best practices database for each supported language:

- **Pattern-Based Detection**: Regex patterns to identify anti-patterns and violations
- **Rule Sets**: Industry-standard rules and guidelines
- **Category Organization**: Practices organized by category (Architecture, Security, Performance, Code Quality)
- **Constraint Generation**: Automatically generates constraints based on best practices

### Analyzers

#### .NET Architecture Analyzer

Detects common architectural violations in .NET projects:

- **ARCH-001**: Controllers accessing DbContext directly
- **ARCH-002**: Business logic in controllers
- **ARCH-003**: Direct instantiation instead of dependency injection
- **ARCH-004**: Static service location anti-patterns

#### Best Practices Checker

Automatically checks code against best practices for the detected language:

- **Security Patterns**: SQL injection, hardcoded secrets, input validation
- **Architecture Patterns**: Dependency injection, separation of concerns
- **Code Quality**: Type hints, async/await usage, code organization
- **Performance**: Optimization patterns and anti-patterns

## Configuration Options

See `reposentinel.yaml.example` for all available options:

- **Output paths**: Customize where files are written
- **LLM settings**: Model selection, temperature, token limits
- **Risk scoring**: Adjust scoring algorithm parameters
- **Logging**: Control log level and format

## Extending RepoSentinel

### Adding a New Analyzer

1. Create a new analyzer class inheriting from `Analyzer`:

```python
from core.analyzers.base import Analyzer
from typing import List, Dict, Any

class MyCustomAnalyzer(Analyzer):
    def run(self, repo: str) -> List[Dict[str, Any]]:
        # Your analysis logic
        return findings
```

2. Register it in `core/analyzers/runner.py`:

```python
from engines.mylang.analyzer import MyCustomAnalyzer

_ANALYZER_REGISTRY["mylang"] = [MyCustomAnalyzer]
```

## Requirements

- Python >= 3.11
- OpenAI API key
- Dependencies listed in `pyproject.toml`

## Development

```bash
# Install with dev dependencies
pip install -e ".[dev]"

# Run tests (when implemented)
pytest

# Type checking
mypy .

# Format code
black .

# Lint code
ruff .
```

## ğŸ¤ Contributing

We welcome contributions! Whether it's:
- ğŸ› Reporting bugs
- ğŸ’¡ Suggesting features
- ğŸ“ Improving documentation
- ğŸ”§ Writing code
- ğŸ¨ Adding best practices

See our [Contributing Guide](CONTRIBUTING.md) for details.

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ™ Acknowledgments

- Built with â¤ï¸ for the developer community
- Inspired by the need for better code quality and AI-assisted development
- Powered by OpenAI and the open-source community

## â­ Star History

If you find RepoSentinel useful, please consider giving it a star! â­

## ğŸ“ Support

- ğŸ“– [Documentation](docs/)
- ğŸ› [Issue Tracker](https://github.com/yourusername/copilot-instruction-agent/issues)
- ğŸ’¬ [Discussions](https://github.com/yourusername/copilot-instruction-agent/discussions)

## ğŸ—ºï¸ Roadmap

- [ ] Support for more languages (Java, Go, Rust)
- [ ] IDE plugins (VS Code, JetBrains)
- [ ] CI/CD integration
- [ ] Custom practice file support
- [ ] Practice marketplace
- [ ] Real-time analysis mode

---

**Made with â¤ï¸ by the RepoSentinel team**
